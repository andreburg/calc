var L=Object.defineProperty;var F=(n,t,e)=>t in n?L(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var I=(n,t,e)=>F(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=e(r);fetch(r.href,c)}})();function a(n){var e,o;const t=K(document.createElement(n.type),n.props);return(o=(e=n.props)==null?void 0:e.children)==null||o.map(r=>{if(r instanceof HTMLElement)t.appendChild(r);else{const c=document.createElement("span");c.textContent=r,t.appendChild(c)}return r}),t}function K(n,t){for(let[e,o]of Object.entries(t||{}))if(e in n&&e!=="children")try{n[e]=o}catch(r){console.error(r)}return n}const N=["DEG","RAD"];function d(n){return{DEG:Math.PI/180,RAD:1}[n]}class y extends Error{constructor(t){super(t)}}const z=(n,t)=>n>=t[0]&&n<=t[1];function J(n,t){const e=[];let o=n.indexOf(t);for(;o!==-1;)e.push(o),o=n.indexOf(t,o+1);return e}function C(n,t){return{expression:n.slice(0,t[0])+n.slice(t[1]),extracted:n.slice(t[0],t[1])}}function P(n,t){return S(n).find(([r])=>r===t.index+String(t.value).length)}function S(n){let t=[],e=[];for(let o=0;o<n.length;o++)if(n[o]=="("&&e.push(o),n[o]==")"&&e.length)if(e.length>0)t.push([e.pop(),o]);else throw new y("Invalid Bracket Format!");if(e.length!==0)throw new y("Invalid Bracket Format!");return t}class R{constructor(t){this.func=t}solve(t,...e){return this.func(t,...e)}}class B extends R{tokenize(t,e){const o=[e.index,e.index+String(e.value).length],r=C(t,o);return{token:{symbol:e,args:[],calculation:this},expression:r.expression}}}function E(n){return n.replace(/\s+/g,"")}function v(n){return S(n).find(([o,r])=>o===0&&r===n.length-1)?v(n.replace(/^\(|\)$/g,"")):n}function D(n){return n.replace(/(\d)(\()/g,"$1*$2").replace(/(\))(\d)/g,"$1*$2").replace(/\)(\()/g,")*(")}function Q(n){return n.replace(/-/g,"+(-1)*")}function q(n){return n.replace(new RegExp("(?<![\\d\\)\\(\\+\\-])[+-]","g"),"")}function H(n){return D(v(E(n)))}function V(n,t){n=Q(E(n));const e=g(q(n));return O(e,t)}function _(n,t){return t.flatMap(e=>J(n,e).map(o=>({index:o,value:e})))}function G(n,t){const e=S(n);return _(n,t).filter(c=>e.every(u=>!z(c.index,u)))}function O(n,t){return n.reduce((e,o)=>e*$(o,t),1)*+!!n.length}function $(n,t){const e=n.args.map(o=>O(o,t));return n.calculation.solve(t,...e)}function g(n){if(n=H(n),n=="")return[];const t=Number(n);if(!isNaN(t)&&t!==void 0)return[new B(()=>t).tokenize(n,{index:0,value:n}).token];const e=G(n,Object.keys(k))[0],r=k[e.value].tokenize(n,e);return[r.token,...g(r.expression)]}class i extends R{tokenize(t,e){const o=P(t,e);if(!o)throw new y("Invalid function format.");const r=[e.index,o[1]+1],c=C(t,r),X=v(c.extracted.slice(e.index+`${e.value}`.length)).split(",").map(j=>g(j));return{token:{symbol:e,args:X,calculation:this},expression:c.expression}}}class h extends R{tokenize(t,e){t=v(t);let o=g(t.slice(0,e.index)),r=g(t.slice(e.index+String(e.value).length));return{token:{symbol:e,args:[o,r],calculation:this},expression:""}}}const M={"+":new h((n,t,e)=>t+e),"-":new h((n,t,e)=>t-e),"/":new h((n,t,e)=>t/e),"^":new h((n,t,e)=>Math.pow(t,e)),"*":new h((n,t,e)=>t*e)},U={Ï€:new B(()=>Math.PI),e:new B(()=>Math.E)},Y={cosec:new i(({angle:n},t)=>Math.asin(t)/d(n)),sec:new i(({angle:n},t)=>Math.acos(t)/d(n)),cot:new i(({angle:n},t)=>Math.atan(t)/d(n)),sin:new i(({angle:n},t)=>Math.sin(t*d(n))),cos:new i(({angle:n},t)=>Math.cos(t*d(n))),tan:new i(({angle:n},t)=>Math.tan(t*d(n)))},W={ln:new i((n,t)=>Math.log(t)),sqrt:new i((n,t)=>t^1/2),floor:new i((n,t)=>Math.floor(t)),ceil:new i((n,t)=>Math.ceil(t)),round:new i((n,t)=>Math.round(t)),test:new i((n,t,e,o)=>t+e-o)},Z={...M,...W,...Y,...U},k={...Z};class w{constructor(t){I(this,"_subscribers",[]);this._value=t}get value(){return this._value}set value(t){this._value=t,this.notify()}notify(){this._subscribers.map(e=>e(this._value)).map(e=>e==null?void 0:e())}sub(t){this._subscribers.push(t)}unsub(t){this._subscribers=this._subscribers.filter(e=>e!==t)}}const s=new w("");function l({onInput:n,value:t,className:e}){return a({type:"button",props:{children:[t],onclick:()=>n(t),className:"brutal-container brutal-container-shadow "+e}})}function tt(){function n(o){s.value+=o}const e=Object.keys(M).map(o=>l({onInput:n,value:o}));return a({type:"div",props:{children:e,className:"operation-buttons grid-cols-3"}})}function nt({label:n,open:t,className:e}){return a({type:"button",props:{innerText:n,onclick:()=>{t.value=!t.value},className:`dropdown-trigger brutal-container ${e}`}})}function et({open:n,child:t}){const e=a({type:"div",props:{children:[t],className:"dropdown-content brutal-container brutal-shadow-container",ariaHidden:"true"}});return n.sub(()=>{e.ariaHidden=String(!n.value)}),e}function b({label:n,child:t,className:e}){const o=new w(!1),r=a({type:"div",props:{children:[nt({label:n,open:o,className:e}),et({open:o,child:t})],className:"dropdown"}});return window.addEventListener("click",c=>{r.contains(c.target)||(o.value=!1)},{capture:!0}),r}function f({children:n,className:t}){function e(){return a({type:"div",props:{children:n,className:t}})}return e()}function ot(){function n(r){s.value+=r}const e=Object.keys(U).map(r=>l({onInput:n,value:r})),o=f({children:e,className:"dropdown-horizontal-list"});return b({label:"CONST",child:o,className:"option-row-dropdown-button brutal-shadow-container"})}function rt(){function n(r){s.value+=`${r}(`}const e=Object.keys(W).map(r=>l({onInput:n,value:r})),o=f({children:e,className:"dropdown-horizontal-list"});return b({label:"FUNC",child:o,className:"option-row-dropdown-button brutal-shadow-container"})}function ct(){function n(r){s.value+=`${r}(`}const e=Object.keys(Y).map(r=>l({onInput:n,value:r})),o=f({children:e,className:"dropdown-horizontal-list"});return b({label:"TRIG",child:o,className:"option-row-dropdown-button brutal-shadow-container"})}function at(){return a({type:"div",props:{children:[ct(),rt(),ot()],className:"flex-row dropdown-context w-full"}})}class st{create(t){const e=JSON.parse(window.localStorage.getItem("calculation")||"[]"),o=Math.max(...e.map(c=>c.id),0)+1,r=new Date;window.localStorage.setItem("calculation",JSON.stringify([...e,{id:o,...t,timestamp:r}]))}deleteById(t){const e=JSON.parse(window.localStorage.getItem("calculation")||"[]");window.localStorage.setItem("calculation",JSON.stringify(e.filter(o=>o.id!==t)))}getAll(){return JSON.parse(window.localStorage.getItem("calculation")||"[]")}}const m=new st,A=new w(m.getAll()),p=new w({angle:"DEG"});function it(){function n(){let e;try{e=String(V(s.value,p.value))}catch{e="#ERROR"}m.create({input:s.value,output:e}),s.value=e,A.value=m.getAll()}return l({onInput:n,value:"=",className:"equals-button"})}function lt(){function n(r){s.value+=r}const e=[...Array.from(Array(9)).map((r,c)=>String(9-c)),".","0"].map(r=>l({onInput:n,value:r}));return f({children:[...e,it()],className:"number-buttons grid-cols-3"})}function ut(){const n=new w(0);let t=o();n.sub(()=>{if(n.value===N.length){n.value=0;return}p.value={...p.value,angle:N[n.value]};let r=o();t.replaceWith(r),t=r}),p.sub(()=>{let r=N.findIndex(c=>c===p.value.angle);if(r!=n.value){n.value=r;let c=o();t.replaceWith(c),t=c}});function e(){n.value+=1}function o(){const r=p.value.angle;return a({type:"button",props:{innerText:r,onclick:e,className:"brutal-container angle-unit-switch"}})}return t}function dt(){const n=()=>s.value="",t=()=>s.value=s.value.slice(0,s.value.length-1),e=l({onInput:n,value:"AC",className:"edit-button"}),o=l({onInput:t,value:"DEL",className:"edit-button"});return f({children:[ut(),o,e],className:"edit-buttons grid-cols-3"})}function pt(){function n(o){s.value+=o}const e=["(",")",","].map(o=>l({onInput:n,value:o}));return f({children:e,className:"format-buttons grid-cols-3"})}function At(){const n=a({type:"div",props:{children:[dt(),pt(),tt()],className:"flex-col flex-1"}}),t=a({type:"div",props:{children:[n,lt()],className:"flex-row flex-1"}});return a({type:"div",props:{children:[at(),t],className:"flex-row gap-md"}})}function ft(){let n=a({type:"input",props:{value:s.value,oninput:t=>{t.preventDefault(),s.value=t.target.value},className:"brutal-container brutal-shadow-container"}});return s.sub(()=>{n.value=s.value}),n}function T({calculation:n}){function t(){m.deleteById(n.id),A.value=m.getAll()}function e(){s.value=n.input}return a({type:"div",props:{children:[`${n.input} = ${n.output}`,a({type:"button",props:{innerText:"-",onclick:t,className:"delete-calculation-button"}})],className:"historical-calculation",onclick:e}})}function ht(){function n(){let e=A.value.map(o=>T({calculation:o}));return a({type:"div",props:{children:e,className:"history-dropdown"}})}let t=n();return A.sub(()=>{let e=n();t.replaceWith(e),t=e}),b({label:"HISTORY",child:t,className:"history-button"})}function gt(){const n=a({type:"div",props:{children:[ht()],className:"dropdown-context history-button-container"}});return a({type:"div",props:{children:[n,ft(),At()],className:"calculator brutal-container brutal-shadow-container"}})}function mt(){function n(){const e=A.value.map(o=>T({calculation:o}));return a({type:"div",props:{children:[a({type:"div",props:{children:e,className:"history"}})],className:"dropdown-context brutal-container history-container"}})}let t=n();return A.sub(()=>{let e=n();t.replaceWith(e),t=e}),t}const wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFrSURBVHgBnZI7SMNQFIbzsGkJfWTQxUERhYKgBUFQfC0Ougg6Ousk+AJX6ewsjooogoOj0lnQRdHBRXHsUKFDk1CFFNv4pdzARRKhHjice//z/+dxE0WJsWw2O6781xBv4r5lWQWlU0NYDMTCrzsSZzKZPUnc9nQ6PfuXRg0PjLvSarWuIjj3rutOxRXQROc84lMJv/B9fwahCb7O3YwroAeeSqWCXQcEtqVp2hEFtpPJ5D7nyUQi4ZqmWTEM4wCsx/O8N3jf7RXYc4N4KMR3kBYbjcYL5365EwWXg01VVT0hVog7juNcBgVeAfKCtwvRJnn8e1SwW6ZZajabtgRPaCT6JNInbikRRuHeWq3mhKMLbE7jkc4k3hDgoxJtD7lcbpDYJe4e3BudfUs8ogcwgo8yQRHv5jwmicu6rq/SLFixQL5EXKvX60+qRDL4nAsQy7ZtP9NtHtI05A8e9rxarXr8K8Pk3uF+haIfvPKMV75Fst8AAAAASUVORK5CYII=",vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADYSURBVHgBfdA/C0FRGAbw47IqH+EqSXRJJotBJpPJxuwziAwIg93mA5iUsjFKRiVlkMkgWVH+PCePOo5771u/c+/73ufcU8cr/suCPETgCSfhUBlYwUuzhYQersDDJqwqyaAHTNjAEhpQVkJ+GEAXohCXm4b8OBXONWGmI5sDm4LLhiIzO9nc2cRcNljM3AwsZw6TLhtSfB7lMocrrMXnAvQKwZ4njOUgy0Gdw54S7ovf6077sMxgBGHI8aRvyZMNvrdhoR5d499ayqwJF6gKhzIhqPUBNfAG6fo8c/Rx6bEAAAAASUVORK5CYII=",bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEUSURBVHgBddHNK0RRGMfx57qIbJSslOYfEDsLiYWUslWWV0lZsbSTlYWNf8IWCzYoWUgW3rJRNrJSI69JzUsz32fu7zZnZppTn3ufezvnOc9zTmSNox8TGEU37nFobcYaTvGKXRzgDXdIskmR3ptB/IwuxS+YVlzBVswjhx10YgaXmNL/b+3s7wXcdij7LLbxiHywWxEXKnEEK551SFt7xnMcY1AL9tCHYR3AgGf61EcuqLtdPObBiX7MY1VxYvWTWQ8aP/KSviw9/19M4l9NWxBnFeRjNXmFHi3wJntRxjsWNXkDS7Fq851+8CAlSy/Ne3zCH26s6dYTS2/1w9Jb3teBnGE5mxRZ65jDOArKeq0+a6MKwWBCaA4AXR8AAAAASUVORK5CYII=";function Nt({title:n,href:t,img:e}){return a({type:"a",props:{children:[a({type:"div",props:{children:[a({type:"img",props:{src:e}})],className:"logo-container"}}),a({type:"span",props:{innerText:n}})],href:t,className:"footer-link"}})}function yt(){return a({type:"footer",props:{children:[{img:vt,title:"andreburg",href:"https://github.com/andreburg"},{img:wt,title:"andreburg-portfolio",href:"https://github.com/andreburg"},{img:bt,title:"andre-dev",href:"https://github.com/andreburg"}].map(t=>Nt(t)),className:"flex-col"}})}function Bt(){return a({type:"header",props:{children:[a({type:"span",props:{innerText:"...",className:"title"}})],className:"brutal-container brutal-shadow-container"}})}function St(){function n(){return a({type:"div",props:{children:[Bt(),a({type:"main",props:{children:[gt(),mt()]}}),yt()],className:"root"}})}return n()}var x;(x=document.querySelector("#app"))==null||x.replaceWith(St());
